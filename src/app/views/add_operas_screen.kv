<AddOperasScreen>:

    BoxLayout:
        orientation: 'vertical'

###################################################################
        
        ###################################################################
        # Header Section - Logo, Login Button, and Language Spinner

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.1
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # White background
                Rectangle:
                    pos: self.pos
                    size: self.size

            # Logo Section (30%)
            BoxLayout:
                size_hint_x: 0.2
                padding: [0, 20, 0, 0]

                Image:
                    source: 'src/app/images/operas/first_view_images/IMG_Logo.png'
                    allow_stretch: True
                    keep_ratio: True
                    


            # Central Section (30%) - Empty space for centering purposes
            BoxLayout:
                size_hint_x: 0.6

            # Login Button Section (30%)
            BoxLayout:
                size_hint_x: 0.2
                orientation: 'horizontal'
                spacing: 20
                padding: 20

                BoxLayout:
                    size_hint_x: 0.5


###################################################################


        # Box centrale (bianca)
        BoxLayout:
            size_hint_y: 0.6
            orientation: 'vertical'
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # Bianco
                Rectangle:
                    pos: self.pos
                    size: self.size
            
            # BoxLabel per Ispeziona e Back Button
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: 0.2  # Riserva solo 20% dell'altezza totale
                padding: [20]

                # Colonna sinistra per il Back Button
                BoxLayout:
                    size_hint_x: 0.075  # 8.5% dello spazio orizzontale
                    orientation: 'horizontal'

                    Button:
                        on_release:
                            app.root.transition.direction = 'right'  
                            app.root.current = 'login'
                        size_hint: (1, 1)  # Riempi tutto lo spazio disponibile
                        background_normal: ''
                        background_color: [0.9, 0.9, 0.9, 1]
                        text: 'Back'
                        font_size: self.height * 0.3
                        font_name: 'src/app/utils/AbrilFatface-Regular.ttf'
                        color: [0, 0, 0, 1]
                        


                        BoxLayout:
                            orientation: 'horizontal'
                            padding: [10, 10, 10, 10]
                            spacing: 10


                Widget:
                    size_hint_x: None  
                    width: 20 

                # Colonna destra per la Label Ispeziona
                BoxLayout:
                    size_hint_x: 0.825  # 81.5% dello spazio orizzontale
                    orientation: 'horizontal'

                    Label:
                        text: 'Galleria'
                        font_size: self.height * 0.4
                        font_name: 'src/app/utils/AbrilFatface-Regular.ttf'
                        color: [0.447, 0.106, 0.157, 1]
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        size_hint: (1, 1)  # Riempi tutto lo spazio disponibile

            # Layout principale con pulsanti laterali e griglia centrale
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: 0.8
                padding: [20]

                # Bottone per scorrere a sinistra
                ScrollButton:
                    text: '<'  # Usa l'icona di freccia o sostituisci con immagine
                    on_release: root.scroll_left()
                    font_name: 'src/app/utils/NotoSansSymbols-Black.ttf'
                    size_hint: 0.1, 1
                    background_normal: ''
                    background_color: [0.9, 0.9, 0.9, 1]
                    color: [0, 0, 0, 1]
                    padding: [20, 20]  # Maggior padding

                # Layout griglia con card
                GridLayout:
                    id: card_grid
                    cols: 3
                    spacing: 20
                    padding: [20, 0, 20, 0]

                # Bottone per scorrere a destra
                ScrollButton:
                    text: '>'
                    font_name: 'src/app/utils/NotoSansSymbols-Black.ttf'
                    on_release: root.scroll_right()
                    size_hint: 0.1, 1
                    background_normal: ''
                    background_color: [0.9, 0.9, 0.9, 1]
                    color: [0, 0, 0, 1]
                    padding: [20, 20]  # Maggior padding

###################################################################

        # Footer (sostituito con uno spazio bordeaux e un pulsante)
        BoxLayout:
            size_hint_y: 0.2
            padding: [self.width * 0.3, self.height * 0.2]

            # Bordeaux background for the footer
            canvas.before:
                Color:
                    rgba: [0.447, 0.106, 0.157, 1]  # Bordeaux color
                Rectangle:
                    pos: self.pos
                    size: self.size

            Button:
                text: 'Aggiungi opera'
                font_size: self.height * 0.4
                font_name: 'src/app/utils/AbrilFatface-Regular.ttf'
                halign: 'center'
                valign: 'middle'
                background_color: [0.9, 0.9, 0.9, 1]  # White background
                color: [0, 0, 0, 1]   # Black text
                background_normal: ''  # Remove default background
                on_press: root.open_add_art_popup()
